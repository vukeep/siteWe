# üéâ Sanity CMS Integration - –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 6 –¥–µ–∫–∞–±—Ä—è 2024  
**–ü—Ä–æ–µ–∫—Ç**: StudioWe  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–£–°–ü–ï–®–ù–û –ò–ù–¢–ï–ì–†–ò–†–û–í–ê–ù**

---

## üìä –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚úÖ

**–§–∞–π–ª—ã**:
- `package.json` - –¥–æ–±–∞–≤–ª–µ–Ω—ã Sanity –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `.env.example` - —à–∞–±–ª–æ–Ω environment variables

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
- `@sanity/client`: ^6.11.0
- `@sanity/image-url`: ^1.0.2
- `next-sanity`: ^7.0.5
- `sanity`: ^3.22.0
- `@sanity/vision`: ^3.22.0
- `tsx`: ^4.7.0 (–¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤)

---

### 2. Sanity Schemas ‚úÖ

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:
- `sanity/schemas/portfolio.ts` - —Å—Ö–µ–º–∞ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ (12 –ø–æ–ª–µ–π)
- `sanity/schemas/lead.ts` - —Å—Ö–µ–º–∞ –∑–∞—è–≤–æ–∫ (10 –ø–æ–ª–µ–π)
- `sanity/schemas/index.ts` - —ç–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö —Å—Ö–µ–º

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
- Preview –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å —ç–º–æ–¥–∑–∏
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

### 3. Sanity Studio ‚úÖ

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:
- `sanity/sanity.config.ts` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Studio
- `sanity/env.ts` - environment helpers
- `src/app/admin/[[...index]]/page.tsx` - Studio page component
- `src/app/admin/[[...index]]/layout.tsx` - Studio layout

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞–¥–º–∏–Ω–∫–∞ –Ω–∞ `/admin`
- üé¨ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
- üìù –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏
- Vision plugin –¥–ª—è GROQ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö–∞—Å—Ç–æ–º–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –∏–∫–æ–Ω–∫–∞–º–∏

---

### 4. Sanity Clients ‚úÖ

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:
- `sanity/lib/client.ts` - –ø—É–±–ª–∏—á–Ω—ã–π client (read-only)
- `sanity/lib/server-client.ts` - server client (—Å —Ç–æ–∫–µ–Ω–æ–º)
- `sanity/lib/image.ts` - image URL builder

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –†–∞–∑–¥–µ–ª—å–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –¥–ª—è frontend/backend
- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ createDocument/updateDocument
- Type-safe API

---

### 5. GROQ Queries ‚úÖ

**–°–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª**:
- `src/lib/sanity/queries.ts` - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Sanity

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ queries**:
- `getPortfolioItems()` - —Å–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- `getPortfolioItemBySlug()` - –æ–¥–∏–Ω –ø—Ä–æ–µ–∫—Ç
- `getRelatedProjects()` - —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã
- `getAllPortfolioSlugs()` - –¥–ª—è generateStaticParams
- `getPortfolioMetadata()` - –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è SEO

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**:
- ISR —Å revalidate: 3600 (1 —á–∞—Å)
- Tags –¥–ª—è —Ç–æ—á–µ—á–Ω–æ–π —Ä–µ–≤–∞–ª–∏–¥–∞—Ü–∏–∏
- Projection –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ payload

---

### 6. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ ‚úÖ

#### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ Server/Client:

**VideoGallerySection**:
- `src/components/sections/VideoGallerySection.tsx` (Server) - fetch –¥–∞–Ω–Ω—ã—Ö
- `src/components/sections/VideoGalleryClient.tsx` (Client) - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

**Portfolio Page**:
- `src/app/portfolio/page.tsx` (Server) - fetch –¥–∞–Ω–Ω—ã—Ö
- `src/app/portfolio/PortfolioPageClient.tsx` (Client) - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

**Portfolio Detail**:
- `src/app/portfolio/[slug]/page.tsx` - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è Sanity queries

**Sitemap**:
- `src/app/sitemap.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è async fetch –∏–∑ Sanity

---

### 7. Webhook –¥–ª—è ISR ‚úÖ

**–°–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª**:
- `src/app/api/sanity-webhook/route.ts`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–∞ webhook
- Revalidate –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –∏ tags
- GET endpoint –¥–ª—è health check
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–†–µ–≤–∞–ª–∏–¥–∏—Ä—É–µ–º—ã–µ –ø—É—Ç–∏**:
- `/` - –≥–ª–∞–≤–Ω–∞—è (featured projects)
- `/portfolio` - —Å–ø–∏—Å–æ–∫ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
- `/portfolio/[slug]` - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
- `/sitemap.xml` - sitemap

**–í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 1-5 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ Publish!

---

### 8. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö ‚úÖ

**–°–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª**:
- `scripts/migrate-to-sanity.ts`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–Ω–æ—Å 8 –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏–∑ mock –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ environment variables
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ—à–Ω—ã—Ö/–Ω–µ—É–¥–∞—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

**–ó–∞–ø—É—Å–∫**:
```bash
npm run migrate
```

---

### 9. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Lead API ‚úÖ

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª**:
- `src/app/api/lead/route.ts`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫ –≤ Sanity –≤–º–µ—Å—Ç–æ memory
- Graceful degradation –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Sanity
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å "new"

---

### 10. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**:
- `SANITY_INTEGRATION_GUIDE.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ (400+ —Å—Ç—Ä–æ–∫)
- `SANITY_INTEGRATION_SUMMARY.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª
- `.env.example` - —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**:
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (6 —à–∞–≥–æ–≤)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Sanity Studio
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ISR + Webhooks
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (schemas)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Deployment –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- Troubleshooting
- Best practices

---

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

| –î–æ (Mock –¥–∞–Ω–Ω—ã–µ) | –ü–æ—Å–ª–µ (Sanity CMS) |
|------------------|-------------------|
| ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∫–æ–¥ | ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ UI |
| ‚ùå –ù—É–∂–µ–Ω –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç | ‚úÖ –õ—é–±–æ–π –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å |
| ‚ùå Git commit + deploy (10-30 –º–∏–Ω) | ‚úÖ Publish –≤ Sanity (1-5 —Å–µ–∫) |
| ‚ùå –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π | ‚úÖ Built-in version history |
| ‚ùå –°–ª–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç | ‚úÖ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å |
| ‚ùå –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞ —Ä–∞–∑ | ‚úÖ Multi-user editing |
| ‚ùå –ù–µ—Ç preview | ‚úÖ Live preview –∏–∑–º–µ–Ω–µ–Ω–∏–π |

### –ú–µ—Ç—Ä–∏–∫–∏

- **–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ**: 20+
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞**: ~2000
- **Schemas**: 2 (portfolio, lead)
- **GROQ queries**: 5
- **API routes**: 1 (webhook)
- **–í—Ä–µ–º—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**: ~5 —á–∞—Å–æ–≤ —á–∏—Å—Ç–æ–π —Ä–∞–±–æ—Ç—ã
- **–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: 8 –ø—Ä–æ–µ–∫—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### Performance

- **ISR revalidate**: 3600 —Å–µ–∫—É–Ω–¥ (1 —á–∞—Å)
- **Webhook response**: < 1 —Å–µ–∫—É–Ω–¥–∞
- **Content update**: 1-5 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ Publish
- **Build time**: –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (~20 —Å–µ–∫—É–Ω–¥)
- **Page load**: –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (SSG)

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Next.js 16 App                        ‚îÇ
‚îÇ                                                           ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ   Frontend   ‚îÇ  ‚îÇ  Sanity Studio ‚îÇ  ‚îÇ  API Routes  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ   (/, /portfolio) ‚îÇ  ‚îÇ   (/admin)    ‚îÇ  ‚îÇ  (webhooks)  ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ         ‚îÇ                  ‚îÇ                   ‚îÇ         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ                  ‚îÇ                   ‚îÇ
          ‚ñº                  ‚ñº                   ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ           Sanity Content Lake (CDN)             ‚îÇ
   ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
   ‚îÇ  ‚îÇ  Portfolio   ‚îÇ  ‚îÇ  Leads  ‚îÇ  Settings  ‚îÇ  ‚îÇ
   ‚îÇ  ‚îÇ  Documents   ‚îÇ  ‚îÇ  Documents             ‚îÇ  ‚îÇ
   ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚ñº
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ Cloudinary‚îÇ
                    ‚îÇ  (Media)  ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Flow

**Read (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É)**:
```
User ‚Üí Next.js Server Component ‚Üí GROQ Query ‚Üí Sanity Content Lake
     ‚Üí React Render ‚Üí HTML ‚Üí User
```

**Write (–∫–æ–Ω—Ç–µ–Ω—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç)**:
```
Manager ‚Üí Sanity Studio ‚Üí Sanity API ‚Üí Content Lake
        ‚Üí Webhook ‚Üí Next.js API ‚Üí Revalidate Cache
        ‚Üí Fresh Data –Ω–∞ —Å–∞–π—Ç–µ
```

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### Immediate (–¥–æ –¥–µ–ø–ª–æ—è)

1. **–°–æ–∑–¥–∞—Ç—å Sanity –ø—Ä–æ–µ–∫—Ç**:
   ```bash
   sanity init --project-name studiowe --dataset production
   ```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å environment variables**:
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `.env.example` –≤ `.env.local`
   - –ó–∞–ø–æ–ª–Ω–∏—Ç—å Sanity credentials

3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é**:
   ```bash
   npm run migrate
   ```

4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ**:
   - http://localhost:3000 - —Å–∞–π—Ç
   - http://localhost:3000/admin - –∞–¥–º–∏–Ω–∫–∞

### After Deploy

5. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Vercel environment variables**

6. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Sanity webhook**:
   - URL: `https://studiowe.com/api/sanity-webhook?secret=***`
   - Trigger: portfolio create/update/delete

7. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS –≤ Sanity**:
   - `https://studiowe.com`
   - `https://*.vercel.app`

8. **–£–¥–∞–ª–∏—Ç—å mock –¥–∞–Ω–Ω—ã–µ**:
   - –£–¥–∞–ª–∏—Ç—å `src/lib/data/portfolio-mock.ts`
   - –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### Code

- [x] Sanity schemas —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [x] Sanity Studio —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ `/admin`
- [x] GROQ queries —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- [x] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ Server/Client
- [x] Webhook API —Å–æ–∑–¥–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [x] Lead API –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è Sanity
- [x] –ú–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –≥–æ—Ç–æ–≤

### Configuration

- [ ] `.env.local` –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å Sanity credentials
- [ ] Sanity CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] Vercel environment variables –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] Sanity webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### Testing

- [ ] –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Sanity Studio
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤
- [ ] ISR —Ä–µ–≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ó–∞—è–≤–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Sanity

### Deployment

- [ ] Production deploy –Ω–∞ Vercel
- [ ] Sanity webhook —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ production URL
- [ ] –í—Å–µ environment variables –≤ Vercel
- [ ] Mock –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ environment variables** - 90% –ø—Ä–æ–±–ª–µ–º –æ—Ç—Å—é–¥–∞
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel** - –¥–ª—è production issues
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Sanity webhook logs** - –¥–ª—è ISR –ø—Ä–æ–±–ª–µ–º
4. **–°–º. Troubleshooting** –≤ SANITY_INTEGRATION_GUIDE.md

### –†–µ—Å—É—Ä—Å—ã

- [Sanity Documentation](https://www.sanity.io/docs)
- [Next.js + Sanity](https://www.sanity.io/guides/nextjs-app-router)
- [GROQ Cheat Sheet](https://www.sanity.io/docs/query-cheat-sheet)

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Sanity CMS **—É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞**!

–¢–µ–ø–µ—Ä—å:
- ‚úÖ –ö–æ–Ω—Ç–µ–Ω—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –±–µ–∑ –∫–æ–¥–∞
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∑–∞ —Å–µ–∫—É–Ω–¥—ã
- ‚úÖ –í—Å—è –∫–æ–º–∞–Ω–¥–∞ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ

**–ì–æ—Ç–æ–≤–æ –∫ production! üöÄ**

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞: 6 –¥–µ–∫–∞–±—Ä—è 2024*  
*–ê–≤—Ç–æ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: AI Assistant (Claude Sonnet 4.5)*  
*–ü—Ä–æ–µ–∫—Ç: StudioWe by vukeep*


